{"componentChunkName":"component---src-templates-blog-post-js","path":"/javascript/devlog/a/","result":{"data":{"site":{"siteMetadata":{"title":"DEV LOGS"}},"markdownRemark":{"id":"4af67936-12dd-54d9-9511-a41cc43602dd","excerpt":"1. 배경 gatsby로 깨작깨작 열심히 개발블로그를 만들었고 \n이를 깃헙 페이지로 배포하려고 하는 중이었다.  생각없이 블로그를 그대로 따라서 배포했더니 \n현제 래포의 마스터 브랜치를 배포용 파일들이 덮어버리는 일이 일어나고 말았다. \n(gh-page…","html":"<h3>1. 배경</h3>\n<p>gatsby로 깨작깨작 열심히 개발블로그를 만들었고\n이를 깃헙 페이지로 배포하려고 하는 중이었다. </p>\n<p>생각없이 블로그를 그대로 따라서 배포했더니\n현제 래포의 마스터 브랜치를 배포용 파일들이 덮어버리는 일이 일어나고 말았다.\n(gh-page의 기본작동이 그런것이었다..)</p>\n<p>소스 관리와 배포용 레포를 분리하고 싶어서 방법을 찾다가 관련해서\n배우게 된 내용들을 정리해 보았다. </p>\n<blockquote>\n<ul>\n<li>깃헙에 비밀번호 없이 접속하기 위한 ssh사용법</li>\n<li>다른 레포에 배포하도록 하는 gh-pages의 옵션 </li>\n</ul>\n</blockquote>\n<h3>2. 깃헙에 비밀번호 없이 접속하기 (SSH 사용법)</h3>\n<p>맥의 경우 기본적으로 ssh key파일들은 아래 디렉터리에 저장되어 있다. </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">~/.ssh</code></pre></div>\n<p>다음 명령어로 key를 생성하는데 이메일은 깃계정에 등록된 이메일로 하자.\n또한 key의 비밀번호를 설정할 수 있게 되어 있는데 없이 하는것이 편하다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ssh-keygen -t rsa -b <span class=\"token number\">4096</span> -C <span class=\"token string\">\"my-email@example.com\"</span></code></pre></div>\n<p>생성된 파일중에서 .pub로 끝나는 파일의 값을 git > profile > settings > ssh and gps keys 메뉴에서 설정해 준다.\n(값 내용을 복사해서 넣게끔 되어있다.)</p>\n<p>실수로 ssh key를 생성할때 비밀번호를 등록해주었다면 다음 명령어로 없애줄 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ssh-keygen -p</code></pre></div>\n<p>ssh key가 있어도 안될때에는,\n내 경우에는 SSH-AGENT에 키를 등록하니 해결이 되었다. </p>\n<blockquote>\n<p>ssh-agent 의 동작 확인</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">eval</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>ssh-agent -s<span class=\"token variable\">)</span></span>\"</span></code></pre></div>\n<blockquote>\n<p> ssh-agent 에 key 등록하기 </p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ssh-add ~/.ssh/id_rsa</code></pre></div>\n<h3>3. 다른 레포에 github page 배포하기</h3>\n<p>배포할때 개인 사이트 또는 특정 레포의 프로젝트 사이트 두 종류를 다른 방법으로 하게 된다. </p>\n<p>개인 사이트는 [사용자명].github.io 로 레포를 만들어야 되고 package.json에 다음처럼 명령어를 입력해준다. </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token string\">\"scripts\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token string\">\"deploy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public -b master\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>만약, 소스레포와 배포레포가 다르다면 다음 부분에서 계정부분만 잘 변경해서\npackage.json을 작성해주면 된다. 이걸 그대로 실행하기 위해서 ssh설정을 잘 해줄 필요가 있다. </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">{</span>\n   <span class=\"token string\">\"scripts\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token string\">\"deploy\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public -r git@github.com:soharu/soharu.github.io.git -b master\"</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>배포 끝..</p>\n<h3>출처</h3>\n<ul>\n<li><a href=\"https://jootc.com/p/201905122827\">ssh 생성 및 github 저장소 저장하기 - JOOTC 블로그 </a></li>\n<li><a href=\"https://goddaehee.tistory.com/254\">Git (7) Github 비밀번호 입력 없이 pull/push 하기(github ssh key 설정)</a></li>\n<li><a href=\"https://musma.github.io/2019/08/09/gatsby-js.html\">GatsbyJS 개발 환경 셋팅부터 GitHub Pages 배포까지 (musma 블로그)</a>\n(배포하려고 할때 시작점이 되어준 고마운 블로그)</li>\n<li><a href=\"https://soharu.github.io/posts/2019-09-18-Deploying-to-GitHub-Pages/\">Github Pages로 블로그 배포하기</a>\n(어쩌다가 배포 레포와 소스 레포를 분리하신 분이고 딱 내가 필요한 과정을 그대로 진행한 블로그)</li>\n</ul>","frontmatter":{"title":"gatsby로 제작한 블로그 배포하기","date":null,"description":null}}},"pageContext":{"slug":"/javascript/devlog/a/","previous":{"fields":{"slug":"/javascript/youdontknowjs/readme/"},"frontmatter":{"title":""}},"next":{"fields":{"slug":"/javascript/DataSturcture/readme/"},"frontmatter":{"title":"읽은 책 제목"}}}}}