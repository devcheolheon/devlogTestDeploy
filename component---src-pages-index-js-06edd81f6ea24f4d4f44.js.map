{"version":3,"sources":["webpack:///./src/components/githubsection.js","webpack:///./src/pages/index.js","webpack:///./node_modules/classnames/index.js","webpack:///./src/components/dir.module.css"],"names":["makeDirs","dirs","subject","makeDirsRecur","mappedDirs","slugArr","length","obj","i","name","shift","push","key","map","til","slug","node","fields","title","frontmatter","split","slice","LeafDirs","dir","className","dirStyles","leafarea","icon","leaf","to","Dir","depth","Array","isArray","Object","keys","id","leftarea","smallupbox","smalldownbox","titlearea","directorytitle","data-dirname","container","subdirectory","GithubSection","dirDom","useRef","onclickhandler","useCallback","e","targetDirID","target","getAttribute","targetDom","current","querySelector","descendants","querySelectorAll","classNames","selected","setAllDescendantsUnvisible","parentNode","setVisible","dirTitle","onClick","ref","pageQuery","BlogIndex","data","location","siteTitle","site","siteMetadata","tils","allMarkdownRemark","edges","filter","test","fileAbsolutePath","tilsDir","undefined","birs","console","log","birsDir","hasOwn","hasOwnProperty","classes","arguments","arg","argType","inner","apply","call","join","module","exports"],"mappings":"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","file":"component---src-pages-index-js-06edd81f6ea24f4d4f44.js","sourcesContent":["import React, { useRef, useCallback } from \"react\"\nimport { Link } from \"gatsby\"\nimport dirStyles from \"./dir.module.css\"\nimport { GrCaretNext } from \"react-icons/gr\"\nimport classNames from \"classnames\"\n\nconst makeDirsRecur = function makeDirsRecur(mappedDirs) {\n  if (mappedDirs[0].slugArr.length == 1) return mappedDirs\n  let obj = {}\n\n  for (let i = 0; i < mappedDirs.length; i++) {\n    let name = mappedDirs[i].slugArr.shift()\n    if (obj[name]) obj[name].push(mappedDirs[i])\n    else obj[name] = [mappedDirs[i]]\n  }\n\n  for (let key in obj) {\n    obj[key] = makeDirsRecur(obj[key])\n  }\n\n  return obj\n}\n\nconst makeDirs = (dirs, subject) => {\n  let mappedDirs = dirs.map(til => {\n    let slug = til.node.fields.slug\n    let title = til.node.frontmatter.title || \"\"\n    let slugArr = slug.split(\"/\").slice(1, -1)\n    return { slug, title, slugArr, subject }\n  })\n\n  let obj = {}\n  obj = makeDirsRecur(mappedDirs)\n  return obj\n}\n\nconst LeafDirs = dir => {\n  return (\n    <div className={dirStyles.leafarea} key={dir.slug + \"-link\"}>\n      <GrCaretNext className={dirStyles.icon} />\n      <Link className={dirStyles.leaf} to={dir.slug}>\n        {dir.title || dir.slug}\n      </Link>\n    </div>\n  )\n}\n\nconst Dir = ({ dirs, depth }) => {\n  if (Array.isArray(dirs)) {\n    return dirs.map(LeafDirs)\n  }\n  const keys = Object.keys(dirs)\n  return keys.map((key, i) => {\n    return (\n      <div\n        key={`dir_${key}_${depth}_${i}`}\n        id={`dir_${key}_${depth}_${i}`}\n        className={`${dirStyles.dir}`}\n      >\n        <div className={dirStyles.leftarea}>\n          <div className={dirStyles.smallupbox} />\n          <div className={dirStyles.smalldownbox} />\n        </div>\n        <div className={dirStyles.titlearea}>\n          <div\n            className={dirStyles.directorytitle}\n            data-dirname={`dir_${key}_${depth}_${i}`}\n          >\n            {key}\n          </div>\n        </div>\n        <div\n          className={`${dirStyles.container + \" \" + dirStyles.subdirectory}`}\n        >\n          <Dir dirs={dirs[key]} depth={depth + \"_\" + i} />\n        </div>\n      </div>\n    )\n  })\n}\n\nconst setAllDescendantsUnvisible = targetDom => {\n  let descendants = targetDom.querySelectorAll(`.${dirStyles.dir}`)\n  for (let i = 0; i < descendants.length; i++) {\n    descendants[i].className = classNames(dirStyles.dir, {\n      [dirStyles.selected]: false,\n    })\n  }\n}\nconst setVisible = targetDom => {\n  targetDom.className = classNames(dirStyles.dir, {\n    [dirStyles.selected]: true,\n  })\n}\n\nconst GithubSection = ({ name, dirs }) => {\n  const dirDom = useRef(null)\n  const onclickhandler = useCallback(\n    e => {\n      let targetDirID = e.target.getAttribute(\"data-dirname\")\n      if (!targetDirID) return\n      let targetDom = dirDom.current.querySelector(`#${targetDirID}`)\n      let parentDom = targetDom.parentNode\n      setAllDescendantsUnvisible(parentDom)\n      setVisible(targetDom)\n    },\n    [dirDom]\n  )\n  if (!dirs) return\n  return (\n    <div>\n      <h2 className={dirStyles.dirTitle}>{name}</h2>\n      <div\n        className={dirStyles.container}\n        onClick={onclickhandler}\n        ref={dirDom}\n      >\n        <Dir dirs={dirs} depth={0}></Dir>\n      </div>\n    </div>\n  )\n}\n\nexport default GithubSection\nexport { makeDirs }\n","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport GithubSection, { makeDirs } from \"../components/githubsection\"\n\nconst BlogIndex = ({ data, location }) => {\n  const siteTitle = data.site.siteMetadata.title\n  const posts = data.allMarkdownRemark.edges\n\n  const tils = data.allMarkdownRemark.edges.filter(obj => {\n    return /git\\/TIL\\//.test(obj.node.fileAbsolutePath)\n  })\n  const tilsDir = tils.length ? makeDirs(tils, \"TIL\") : undefined\n\n  const birs = data.allMarkdownRemark.edges.filter(obj => {\n    return /git\\/BIR\\//.test(obj.node.fileAbsolutePath)\n  })\n  console.log(birs)\n  const birsDir = birs.length ? makeDirs(birs, \"BIR\") : undefined\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"All posts\" />\n      <Bio />\n      {tilsDir && <GithubSection name={\"TIL\"} dirs={tilsDir} />}\n      {birsDir && <GithubSection name={\"BIR\"} dirs={birsDir} />}\n    </Layout>\n  )\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___order], order: ASC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          fileAbsolutePath\n          frontmatter {\n            title\n            description\n            order\n          }\n        }\n      }\n    }\n  }\n`\n","require(\"core-js/modules/es6.array.is-array\");\n\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames[\"default\"] = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dir\":\"dir-module--dir--2lJZj\",\"dirTitle\":\"dir-module--dirTitle---YK7l\",\"leafarea\":\"dir-module--leafarea--2i9aS\",\"leaf\":\"dir-module--leaf--2YUXA\",\"icon\":\"dir-module--icon--1tLYt\",\"leftarea\":\"dir-module--leftarea--3I1Cf\",\"titlearea\":\"dir-module--titlearea--3W66q\",\"directorytitle\":\"dir-module--directorytitle--BHImy\",\"smallupbox\":\"dir-module--smallupbox--2fvOO\",\"smalldownbox\":\"dir-module--smalldownbox--2FzUR\",\"container\":\"dir-module--container--2QDpk\",\"subdirectory\":\"dir-module--subdirectory--3CXYD\",\"selected\":\"dir-module--selected--2eryO\"};"],"sourceRoot":""}